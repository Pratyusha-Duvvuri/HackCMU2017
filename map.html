<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Marker Labels</title>
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB3s5Y_tSfWcZrN8HAJ8330i5PnBgdvfnM"></script>
    <script>
      // In the following example, markers appear when the user clicks on the map.
      // Each marker is labeled with a single alphabetical character.
      var labels = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
      var labelIndex = 0;

      function initialize() {
        var cmu = { lat:21.933298, lng:-78.650689 };
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 10,
          center: cmu
        });
        var locations = {
          "Category 3":{lat:21.933298, lng:-78.650689},
          //'Starbucks':{lat:40.444625, lng: -79.948507},
          //"iNoodle":{lat:40.443291, lng: -79.945553},
        };
        var largeInfowindow = new google.maps.InfoWindow();
        var bounds = new google.maps.LatLngBounds();
        var keys = Object.keys(locations);
        console.log(locations)
        for (var i=0; i<keys.length; i++){
          //get the position from the location array.
          var title = keys[i];
          console.log(title);
          var position = locations[title];
          //create a marker per location, and put into markers array.
          var infowindow = new google.maps.InfoWindow({
              content: title
            });
          var marker = new google.maps.Marker({
            map: map,
            position: position,
            title: title,
            animation: google.maps.Animation.DROP,
            id: i,
          });
            marker.addListener('click', function() {
                console.log(marker["id"]);
                infowindow.open(map, marker);
              });

          marker.setMap(map);
        }
          //Push the marker to our array of markers
          //markers.push(marker);
          //create an onclick event to open an infowindown at each marker.
          //marker.addListener("click", function(){
            //populateInfoWindow(this, largeInfowindow);
          //});

        // This event listener calls addMarker() when the map is clicked.
        //google.maps.event.addListener(map, 'click', function(event) {
          //addMarker(event.latLng, map);
        //});

        // Add a marker at the center of the map.
        //addMarker(cmu, map);
      

      // Adds a marker to the map.
      /*
      function populateInfoWindow(marker, infowindow){
        //check to make sure the infowindow is nor already opened on this marker.
        if (infowindow.marker != marker){
          infowindow.marker = marker;
          infowindow.setContent(title);
          //infowindow.setContent('<div'+marker.title+'</div>');
          infowindow.open(map, marker);
          //Make sure the marker property is cleared if the infowindow is closed
          //infowindow.addListener('closeclick', function(){
            //infowindow.setMarker(null);
          //});
        }
        //map.fitBounds(bounds);
      }
      */
      function addMarker(location, map) {

        // Add the marker at the clicked location, and add the next-available label
        // from the array of alphabetical characters.
      
      
        }
        //var marker = new google.maps.Marker({
          //position: location,
          //label: labels[labelIndex++ % labels.length],
          //map: map
        //});

      }

      google.maps.event.addDomListener(window, 'load', initialize);
    </script>
  </head>
  <body>
    <div id="map"></div>
  </body>
</html>